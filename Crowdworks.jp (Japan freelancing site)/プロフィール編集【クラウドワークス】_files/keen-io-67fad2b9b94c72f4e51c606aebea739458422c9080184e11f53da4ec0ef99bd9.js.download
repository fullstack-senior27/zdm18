KeenClient.ready(function(e,t){if(!0===t.clicks){var n={};!0===t.scrollState&&(n=Keen.helpers.getScrollState(),Keen.utils.listener("window").on("scroll",function(){n=Keen.helpers.getScrollState(n)}));var l=document.addEventListener;document.addEventListener=function(){document.body.addEventListener.apply(document.body,arguments)},Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),Keen.utils.listener("a, a *, .clickable, .clickable *").on("click",function(t){var l=t.target;if("A"===l.tagName&&l.classList.contains(".clickable")||(l=l.closest("a, .clickable")),"A"!==l.tagName||l.href){"true"===l.getAttribute("data-remote")&&t.preventDefault(),(l.hasAttribute("confirm")||l.hasAttribute("data-confirm"))&&t.preventDefault(),l.hasAttribute("data-method")&&t.preventDefault(),0===navigator.platform.indexOf("Win")&&t.ctrlKey&&(t.preventDefault(),window.open(l.href));var r=function(e){for(var t=e.attributes,n={},l="data-keen-",r=0;r<t.length;r++)0===t[r].name.indexOf(l)&&(n[t[r].name.slice(l.length)]=t[r].value);return n},a=Keen.helpers.getDomNodeProfile(l);a.data=r(l);var o={element:a,local_time_full:new Date,page:{scroll_state:n}};e.recordEvent("clicks",o)}else t.preventDefault()}),document.addEventListener=l}!0===t.scrollState&&Keen.utils.listener("window").once("scroll",function(){e.recordEvent("scroll",{scroll:{leastOnce:!0}})})});